// Language translations
const translations = {
    en: {
        // Auth
        appTitle: "ðŸ•Šï¸ Chofetz Chaim",
        dedication: "In honor of my brother Yosef Yisroel Meyer",
        subtitle: "Your guide to Shmiras HaLashon",
        signIn: "Sign In",
        signUp: "Sign Up",
        email: "Email",
        password: "Password",
        fullName: "Full Name",
        createAccount: "Create Account",
        
        // Navigation
        dashboard: "Dashboard",
        myProfile: "My Profile",
        myProgress: "My Progress",
        signOut: "Sign Out",
        backToChat: "Back to Chat",
        
        // Chat
        welcomeTitle: "Shalom! ðŸ‘‹",
        welcomeMessage: "Welcome to your personal Shmiras HaLashon guide. Ask me anything about guarding your speech, avoiding lashon hara, or living the teachings of the Chofetz Chaim.",
        tryAsking: "Try asking:",
        quickQuestion1: "What is lashon hara?",
        quickQuestion2: "How can I avoid gossip at work?",
        quickQuestion3: "What should I do if I hear lashon hara?",
        messagePlaceholder: "Ask about Shmiras HaLashon...",
        
        // Dashboard
        dashboardTitle: "Your Shmiras HaLashon Journey",
        dayStreak: "Day Streak",
        conversations: "Conversations",
        lessonsLearned: "Lessons Learned",
        recentConversations: "Recent Conversations",
        messages: "messages",
        emptyState: "Your conversations will appear here",
        
        // Progress
        progressTitle: "Your Progress",
        totalDays: "Total Days",
        currentStreak: "Current Streak",
        longestStreak: "Longest Streak",
        topicsDiscussed: "Topics Discussed",
        shareProgress: "Share My Progress",
        exportData: "Export Data",
        
        // Sharing
        shareTitle: "Share Your Journey",
        shareMessage: "I'm on a journey to improve my Shmiras HaLashon! Join me in honoring the teachings of the Chofetz Chaim.",
        copyLink: "Copy Link",
        shareTwitter: "Share on Twitter",
        shareWhatsApp: "Share on WhatsApp",
        
        // Errors
        loginFailed: "Login failed. Please check your credentials.",
        signupFailed: "Signup failed. Please try again.",
        connectionError: "Connection error. Please try again.",
        
        // Success
        progressCopied: "Progress link copied to clipboard!",
        dataSaved: "Data saved successfully",
    },
    
    he: {
        // Auth
        appTitle: "ðŸ•Šï¸ ×—×¤×¥ ×—×™×™×",
        dedication: "×œ×›×‘×•×“ ××—×™ ×™×•×¡×£ ×™×©×¨××œ ×ž××™×¨",
        subtitle: "×”×ž×“×¨×™×š ×©×œ×š ×œ×©×ž×™×¨×ª ×”×œ×©×•×Ÿ",
        signIn: "×”×ª×—×‘×¨×•×ª",
        signUp: "×”×¨×©×ž×”",
        email: "××™×ž×™×™×œ",
        password: "×¡×™×¡×ž×”",
        fullName: "×©× ×ž×œ×",
        createAccount: "×¦×•×¨ ×—×©×‘×•×Ÿ",
        
        // Navigation
        dashboard: "×œ×•×— ×‘×§×¨×”",
        myProfile: "×”×¤×¨×•×¤×™×œ ×©×œ×™",
        myProgress: "×”×”×ª×§×“×ž×•×ª ×©×œ×™",
        signOut: "×”×ª× ×ª×§×•×ª",
        backToChat: "×—×–×¨×” ×œ×¦'××˜",
        
        // Chat
        welcomeTitle: "×©×œ×•×! ðŸ‘‹",
        welcomeMessage: "×‘×¨×•×›×™× ×”×‘××™× ×œ×ž×“×¨×™×š ×”××™×©×™ ×©×œ×›× ×œ×©×ž×™×¨×ª ×”×œ×©×•×Ÿ. ×©××œ×• ××•×ª×™ ×›×œ ×©××œ×” ×¢×œ ×©×ž×™×¨×ª ×“×™×‘×•×¨, ×”×™×ž× ×¢×•×ª ×ž×œ×©×•×Ÿ ×”×¨×¢, ××• ×—×™×™× ×œ×¤×™ ×ª×•×¨×ª ×”×—×¤×¥ ×—×™×™×.",
        tryAsking: "× ×¡×• ×œ×©××•×œ:",
        quickQuestion1: "×ž×”×• ×œ×©×•×Ÿ ×”×¨×¢?",
        quickQuestion2: "××™×š ×œ×”×™×ž× ×¢ ×ž×¨×›×™×œ×•×ª ×‘×¢×‘×•×“×”?",
        quickQuestion3: "×ž×” ×œ×¢×©×•×ª ×× ×©×•×ž×¢×™× ×œ×©×•×Ÿ ×”×¨×¢?",
        messagePlaceholder: "×©××œ×• ×¢×œ ×©×ž×™×¨×ª ×”×œ×©×•×Ÿ...",
        
        // Dashboard
        dashboardTitle: "×”×ž×¡×¢ ×©×œ×š ×‘×©×ž×™×¨×ª ×”×œ×©×•×Ÿ",
        dayStreak: "×¨×¦×£ ×™×ž×™×",
        conversations: "×©×™×—×•×ª",
        lessonsLearned: "×©×™×¢×•×¨×™× ×©× ×œ×ž×“×•",
        recentConversations: "×©×™×—×•×ª ××—×¨×•× ×•×ª",
        messages: "×”×•×“×¢×•×ª",
        emptyState: "×”×©×™×—×•×ª ×©×œ×š ×™×•×¤×™×¢×• ×›××Ÿ",
        
        // Progress
        progressTitle: "×”×”×ª×§×“×ž×•×ª ×©×œ×š",
        totalDays: "×¡×š ×”×›×œ ×™×ž×™×",
        currentStreak: "×¨×¦×£ × ×•×›×—×™",
        longestStreak: "×¨×¦×£ ×”×›×™ ××¨×•×š",
        topicsDiscussed: "× ×•×©××™× ×©× ×“×•× ×•",
        shareProgress: "×©×ª×£ ××ª ×”×”×ª×§×“×ž×•×ª",
        exportData: "×™×™×¦× × ×ª×•× ×™×",
        
        // Sharing
        shareTitle: "×©×ª×£ ××ª ×”×ž×¡×¢ ×©×œ×š",
        shareMessage: "×× ×™ ×‘×ž×¡×¢ ×œ×©×¤×¨ ××ª ×©×ž×™×¨×ª ×”×œ×©×•×Ÿ ×©×œ×™! ×”×¦×˜×¨×¤×• ××œ×™ ×‘×›×™×‘×•×“ ×ª×•×¨×ª ×”×—×¤×¥ ×—×™×™×.",
        copyLink: "×”×¢×ª×§ ×§×™×©×•×¨",
        shareTwitter: "×©×ª×£ ×‘×˜×•×•×™×˜×¨",
        shareWhatsApp: "×©×ª×£ ×‘×•×•××˜×¡××¤",
        
        // Errors
        loginFailed: "×”×”×ª×—×‘×¨×•×ª × ×›×©×œ×”. ×× × ×‘×“×•×§ ××ª ×”×¤×¨×˜×™×.",
        signupFailed: "×”×”×¨×©×ž×” × ×›×©×œ×”. × ×¡×” ×©×•×‘.",
        connectionError: "×©×’×™××ª ×—×™×‘×•×¨. × ×¡×” ×©×•×‘.",
        
        // Success
        progressCopied: "×§×™×©×•×¨ ×”×”×ª×§×“×ž×•×ª ×”×•×¢×ª×§!",
        dataSaved: "×”× ×ª×•× ×™× × ×©×ž×¨×• ×‘×”×¦×œ×—×”",
    }
};

// Current language
let currentLanguage = localStorage.getItem('preferredLanguage') || 'en';

// Get translation
function t(key) {
    return translations[currentLanguage][key] || translations.en[key] || key;
}

// Switch language
function switchLanguage(lang) {
    currentLanguage = lang;
    localStorage.setItem('preferredLanguage', lang);
    updateUILanguage();
    
    // Update HTML dir attribute for RTL
    document.documentElement.dir = lang === 'he' ? 'rtl' : 'ltr';
    document.documentElement.lang = lang;
}

// Update all UI text
function updateUILanguage() {
    // Update all elements with data-i18n attribute
    document.querySelectorAll('[data-i18n]').forEach(element => {
        const key = element.getAttribute('data-i18n');
        const translation = t(key);
        
        if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
            element.placeholder = translation;
        } else {
            element.textContent = translation;
        }
    });
    
    // Update language toggle button
    const langToggle = document.getElementById('languageToggle');
    if (langToggle) {
        langToggle.textContent = currentLanguage === 'en' ? '×¢×‘×¨×™×ª' : 'English';
    }
}

export { t, switchLanguage, currentLanguage, updateUILanguage };
